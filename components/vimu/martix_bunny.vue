<template>
    <div class="fill-height matrix-bunny" style="position: relative;">
        <div id="canvas-wrapper"> <canvas id="canv"></canvas>
        </div>
        <div style="position: absolute; bottom: 0; left: 0">
            <svg width="200" viewBox="0 0 1085 1424" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M531.112 497.247C599.552 497.247 675.18 505.872 744.822 525.625C814.541 545.4 877.708 576.169 921.821 620.064C1011.73 709.528 1076.61 855.875 1076.61 992.747C1076.61 1062.19 1074.16 1118.6 1060.6 1168.84C1047.12 1218.79 1022.56 1262.91 977.821 1307.43C934.128 1350.91 858.891 1378.32 776.159 1394.73C693.755 1411.07 605.321 1416.25 536.612 1416.25H533.924C462.763 1416.25 386.437 1416.25 316.542 1404.6C245.766 1392.81 182.657 1369.23 138.561 1322.59C96.5575 1278.17 72.6892 1241.34 59.1378 1199.52C45.5198 1157.5 42.1121 1109.85 42.1121 1043.25C42.1121 977.837 61.6627 898.545 91.9484 824.24C122.235 749.935 162.923 681.434 204.561 637.4C249.754 589.607 296.068 554.657 348.573 531.61C401.073 508.565 460.156 497.247 531.112 497.247Z"
                    fill="white" stroke="black" stroke-width="15" />
                <path
                    d="M531.112 497.247C599.552 497.247 675.18 505.872 744.822 525.625C814.541 545.4 877.708 576.169 921.821 620.064C1011.73 709.528 1076.61 855.875 1076.61 992.747C1076.61 1062.19 1074.16 1118.6 1060.6 1168.84C1047.12 1218.79 1022.56 1262.91 977.821 1307.43C934.128 1350.91 858.891 1378.32 776.159 1394.73C693.755 1411.07 605.321 1416.25 536.612 1416.25H533.924C462.763 1416.25 386.437 1416.25 316.542 1404.6C245.766 1392.81 182.657 1369.23 138.561 1322.59C96.5575 1278.17 72.6892 1241.34 59.1378 1199.52C45.5198 1157.5 42.1121 1109.85 42.1121 1043.25C42.1121 977.837 61.6627 898.545 91.9484 824.24C122.235 749.935 162.923 681.434 204.561 637.4C249.754 589.607 296.068 554.657 348.573 531.61C401.073 508.565 460.156 497.247 531.112 497.247Z"
                    fill="white" stroke="black" stroke-width="15" />
                <ellipse cx="352.112" cy="682.747" rx="15.5" ry="16" fill="black" />
                <ellipse cx="747.112" cy="639.747" rx="15.5" ry="16" fill="black" />
                <path
                    d="M220.594 859.369C220.594 864.599 221.127 868.636 223.4 873.444C225.579 878.054 227.432 883.179 231.357 886.668C235.112 890.006 241.374 890.042 245.617 888.14C247.934 887.101 250.747 885.336 252.056 883.081C254.91 878.166 254.126 870.668 254.126 865.165"
                    stroke="black" stroke-width="15" stroke-linecap="round" />
                <path
                    d="M842.793 801.413C843.423 805.191 847.336 809.47 849.417 812.591C851.674 815.976 854.298 818.926 856.776 822.112C858.696 824.58 861.18 826.252 864.55 826.252C870.664 826.252 873.56 817.786 874.853 812.797C876.237 807.458 875.497 801.088 875.497 795.618"
                    stroke="black" stroke-width="15" stroke-linecap="round" />
                <path
                    d="M24.7592 1084.16C26.2354 1083.25 41.2056 1077.32 42 1080.5L46.5 1136L54.9068 1196.67C50.0767 1196.67 43.6603 1197.9 39.2404 1196.04C28.7332 1191.63 22.9143 1181.27 18.1297 1171.52C12.3249 1159.7 9.20476 1145.39 8.61134 1132.34C8.01968 1119.32 5.98416 1103.94 15.1297 1093.27C17.8645 1090.08 21.1462 1086.37 24.7592 1084.16Z"
                    fill="white" stroke="black" stroke-width="15" stroke-linecap="round" />
                <path
                    d="M697.112 512.747C697.112 398.721 695.95 291.639 707.69 178.154C710.335 152.581 716.531 124.625 725.735 100.593C736.779 71.7567 755.78 53.1058 782.672 38.5003C810.664 23.2981 841.326 11.2215 873.458 9.13493C909.739 6.77904 950.086 6.8349 983.859 21.9122C1004.63 31.186 1026.12 45.3749 1038.22 65.1757C1050.99 86.0807 1052.56 108.878 1052.56 132.873C1052.56 199.506 1021.04 252.553 977.918 301.668C934.657 350.938 890.41 399.182 846.447 447.822C832.076 463.721 819.867 480.719 806.434 497.138C797.732 507.773 784.486 524.426 780.207 537.263L738.659 525.005L697.112 512.747Z"
                    fill="white" stroke="black" stroke-width="15" stroke-linecap="round" />
                <path
                    d="M485.612 498.747C485.612 374.065 499.739 247.652 456.393 128.452C442.982 91.5722 419.332 50.1612 378.617 39.0326C327.289 25.003 269.086 44.2715 224.462 69.3048C168.525 100.684 90.9596 167.273 109.195 239.993C131.235 327.888 219.869 379.3 287.801 428.845C326.7 457.216 354.534 483.595 392.112 513.747L438.862 506.247L485.612 498.747Z"
                    fill="white" stroke="black" stroke-width="15" stroke-linecap="round" />
                <path
                    d="M454.373 823.855C462.909 823.855 471.445 823.855 479.981 823.855C521.769 823.855 561.941 821.893 602.952 813.559C621.314 809.828 640.047 807.388 658.286 803.157C663.021 802.059 668.047 799.145 672.965 799.145"
                    stroke="black" stroke-width="15" stroke-linecap="round" />
                <path
                    d="M529.098 824.154C529.098 836.037 529.503 847.997 528.851 859.866C528.381 868.406 527.648 877.113 528.138 885.676C528.268 887.967 528.337 891.143 529.591 893.163C531.024 895.472 535.217 895.38 537.545 895.742L557.732 896.235C559.898 895.981 563.445 895.46 565.138 893.767C567.077 891.827 566.492 886.259 566.592 883.728C566.765 879.305 566.619 874.852 566.619 870.426C566.619 860.426 565.989 850.922 565.138 841C564.811 837.183 564.555 833.33 564.5 829.5C564.476 827.821 564.445 824.917 563.5 823.5"
                    stroke="black" stroke-width="15" stroke-linecap="round" />
                <path
                    d="M568.5 895.5C576.667 895.5 579 894.601 586.782 894.601C591 894.601 599.164 895.745 601.349 891.133C603.517 886.557 603.402 878.594 602.479 873.715C601.008 865.936 600.887 857.941 600.887 850.054C600.887 843.277 600.529 836.528 600.424 829.784C600.399 828.179 600.644 821.647 599.037 820.844"
                    stroke="black" stroke-width="15" stroke-linecap="round" />
                <ellipse cx="548" cy="722.14" rx="31.6039" ry="17.2587" transform="rotate(-9.40823 548 722.14)"
                    fill="black" />
                <path
                    d="M445.481 663.144C450.991 697.219 404.411 733.098 341.44 743.282C278.469 753.465 222.954 734.097 217.444 700.022C211.933 665.947 260.589 642.901 323.56 632.718C386.531 622.535 439.97 629.069 445.481 663.144Z"
                    fill="black" />
                <path
                    d="M840.94 610.865C846.45 644.94 799.869 680.819 736.899 691.002C673.928 701.186 618.413 681.818 612.902 647.743C607.392 613.667 656.048 590.622 719.019 580.439C781.989 570.255 835.429 576.79 840.94 610.865Z"
                    fill="black" />
                <path
                    d="M439.978 661.394C473.888 631.723 523.165 619.856 567.15 616.628C581.672 615.562 598.286 614.939 612.167 620.004C618.391 622.275 624.613 625.153 630.174 628.757C632.179 630.057 635.921 631.249 636.926 633.259"
                    stroke="black" stroke-width="15" stroke-linecap="round" />
            </svg>
        </div>

    </div>
</template>

<script lang="ts">
import { Vue, Component } from "nuxt-property-decorator";

@Component({})
export default class MatrixBunny extends Vue {

    mounted() {
        const canvas = document.getElementById('canv') as HTMLCanvasElement;
        const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;

        var rect = (canvas.parentNode as HTMLElement).getBoundingClientRect();
        const w = canvas.width = rect.width;
        const h = canvas.height = rect.height;

        const cols = Math.floor(w / 20) + 1;
        const ypos = Array(cols).fill(0);

        ctx.fillStyle = '#161414';
        ctx.fillRect(0, 0, w, h);

        function matrix() {
            ctx.fillStyle = 'rgba(22, 20, 20, 0.067)';
            
            ctx.fillRect(0, 0, w, h);

            ctx.fillStyle = '#fd8b2b';
            ctx.font = '15pt monospace';

            ypos.forEach((y, ind) => {
                const text = ".";
                const x = ind * 20;
                ctx.fillText(text, x, y);
                if (y > 100 + Math.random() * 10000) ypos[ind] = 0;
                else ypos[ind] = y + 20;
            });
        }

        setInterval(matrix, 50);
    }
}
</script>

<style scoped>
#canvas-wrapper {
    height: 70%;
    width: 400px;
    margin-left: 156px;
    border-radius: 15px;
    overflow: hidden;
}
</style>